<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MasGan | Master Degan Indonesia</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="shortcut icon" href="Logo MasGan New.ico" type="image/x-icon">
    <link rel="stylesheet" href="style.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'masgan-green': '#109E33',
                        'masgan-dark-blue': '#1b4148',
                        'masgan-light-blue': '#307281',
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gradient-to-br from-gray-50 to-gray-100">

    <!-- Navigation Bar -->
    <nav class="bg-masgan-dark-blue shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-4 py-3">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-3">
                    <img src="Logo MasGan New.webp" alt="MasGan Logo" class="h-12 md:h-16">
                    <div>
                        <h1 class="text-white text-2xl md:text-md font-bold">MasGan | Master Degan Indonesia</h1>
                        <p class="text-white text-xl md:text-md">Kelapa Muda</p>
                    </div>
                </div>
                <button onclick="toggleCart()" class="relative bg-white hover:bg-gray-100 text-masgan-green px-4 py-2 rounded-full transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105">
                    <svg class="w-6 h-6 inline-block" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path>
                    </svg>
                    <span id="cart-count" class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-6 w-6 flex items-center justify-center font-bold">0</span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="w-full">
        <img src="images/banner.webp" alt="MasGan Banner" class="w-full h-auto object-contain">
    </section>

    <!-- Menu Section -->
    <section id="menu" class="container mx-auto px-4 py-16">
        <h2 class="text-3xl md:text-5xl font-bold text-center mb-12 text-masgan-green">Menu Kami</h2>

        <!-- Menu cards are injected via script.js -->
        <div id="menu-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"></div>
    </section>

    <!-- Location Section -->
    <section class="bg-masgan-green text-white py-16">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-8">Kunjungi Kami</h2>
            <div class="mt-10 space-y-6">
                <h3 class="text-xl font-semibold text-center">Cabang MasGan</h3>
                <div id="branch-card-list" class="grid grid-cols-1 gap-6 lg:grid-cols-3">
                    <div class="w-full bg-white text-masgan-green rounded-2xl shadow-xl p-8 text-center text-masgan-dark-blue/70">
                        Memuat cabang...
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-masgan-dark-blue text-white py-8">
        <div class="container mx-auto px-4 text-center">
            <p class="text-lg font-semibold mb-2">MasGan | Master Degan Indonesia</p>
            <p class="text-sm opacity-80">PT Master Degan Indonesia &copy; 2025</p>
        </div>
    </footer>

    <!-- Cart Modal -->
    <div id="cart-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 overflow-y-auto">
        <div class="min-h-screen px-4 flex items-center justify-center">
            <div class="bg-white rounded-2xl shadow-2xl max-w-2xl w-full my-8">
                <div class="bg-masgan-green text-white p-6 rounded-t-2xl flex justify-between items-center">
                    <h2 class="text-2xl font-bold">Keranjang Belanja</h2>
                    <button onclick="toggleCart()" class="text-white hover:text-yellow-300 text-3xl">&times;</button>
                </div>
                <div id="cart-items" class="p-6 max-h-96 overflow-y-auto">
                    <p class="text-gray-500 text-center py-8">Keranjang masih kosong</p>
                </div>
                <div class="border-t border-gray-200 p-6 space-y-4">
                    <div class="bg-gray-50 border border-gray-200 rounded-2xl p-4 space-y-2">
                        <div class="flex justify-between text-sm md:text-base">
                            <span class="font-semibold text-gray-600">Sub Total</span>
                            <span id="cart-subtotal" class="font-semibold text-masgan-dark-blue">Rp 0</span>
                        </div>
                        <div class="flex justify-between text-sm md:text-base">
                            <span class="font-semibold text-gray-600">Ongkos Kirim</span>
                            <span id="cart-shipping" class="font-semibold text-masgan-dark-blue text-right">Bagikan lokasi untuk menghitung</span>
                        </div>
                        <div class="flex justify-between items-center border-t border-dashed border-gray-300 pt-3 mt-2">
                            <span class="text-xl font-bold">Total</span>
                            <span id="cart-grand-total" class="text-2xl font-bold text-masgan-green">Rp 0</span>
                        </div>
                    </div>
                    <div class="space-y-3">
                        <input type="text" id="customer-name" placeholder="Nama Anda" class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-masgan-green focus:outline-none">
                        <input type="tel" id="customer-phone" placeholder="Nomor WhatsApp (08...)" class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-masgan-green focus:outline-none">
                        <textarea id="customer-address" placeholder="Alamat Pengiriman" rows="3" class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-masgan-green focus:outline-none"></textarea>
                        <textarea id="customer-note" placeholder="Catatan untuk penjual (opsional)" rows="2" class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-masgan-green focus:outline-none"></textarea>

                        <div class="bg-gray-50 border-2 border-gray-300 rounded-lg p-4 space-y-3">
                            <div class="flex items-start justify-between space-x-3">
                                <div>
                                    <p class="text-sm font-semibold text-gray-700">Tentukan lokasi pengiriman</p>
                                    <p id="location-status" class="text-sm text-gray-500 mt-1">Belum ada lokasi.</p>
                                </div>
                                <button type="button" onclick="detectLocation()" class="bg-masgan-dark-blue hover:bg-masgan-light-blue text-white px-4 py-2 rounded-lg text-sm font-semibold transition-colors">
                                    Gunakan Lokasi Saya
                                </button>
                            </div>
                            <p class="text-xs text-gray-500">Lokasi digunakan untuk memilih cabang terdekat dan menghitung ongkos kirim.</p>
                            <div class="grid grid-cols-2 gap-4 border-t border-dashed border-gray-200 pt-3">
                                <div>
                                    <p class="text-xs text-gray-500 uppercase tracking-wide">Cabang</p>
                                    <p id="branch-info" class="text-sm font-semibold text-masgan-dark-blue">Menunggu lokasi</p>
                                </div>
                                <div class="text-right">
                                    <p class="text-xs text-gray-500 uppercase tracking-wide">Jarak</p>
                                    <p id="branch-distance" class="text-sm font-semibold text-masgan-dark-blue">-</p>
                                </div>
                            </div>
                        </div>

                        <div class="bg-gray-50 border-2 border-gray-300 rounded-lg p-4 space-y-4">
                            <div class="flex items-start justify-between">
                                <p class="text-sm font-semibold text-gray-700">Waktu Pengiriman</p>
                                <p class="text-xs text-gray-500">Pilih "Nanti" untuk menjadwalkan.</p>
                            </div>
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                                <label class="flex items-center space-x-3 bg-white border-2 border-gray-200 rounded-lg p-3 cursor-pointer hover:border-masgan-green transition-colors">
                                    <input type="radio" name="delivery-time-option" value="now" class="text-masgan-green focus:ring-masgan-green" checked>
                                    <div>
                                        <p class="font-semibold text-masgan-dark-blue">Kirim Sekarang</p>
                                        <p class="text-xs text-gray-500">Pesanan dikirim secepatnya.</p>
                                    </div>
                                </label>
                                <label class="flex items-center space-x-3 bg-white border-2 border-gray-200 rounded-lg p-3 cursor-pointer hover:border-masgan-green transition-colors">
                                    <input type="radio" name="delivery-time-option" value="later" class="text-masgan-green focus:ring-masgan-green">
                                    <div>
                                        <p class="font-semibold text-masgan-dark-blue">Kirim Nanti</p>
                                        <p class="text-xs text-gray-500">Pilih tanggal & jam pengiriman.</p>
                                    </div>
                                </label>
                            </div>
                            <div id="scheduled-delivery-inputs" class="grid grid-cols-1 sm:grid-cols-2 gap-3 hidden">
                                <div class="space-y-1">
                                    <label for="delivery-date" class="text-xs font-semibold text-gray-600 uppercase tracking-wide">Tanggal</label>
                                    <input type="date" id="delivery-date" class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-masgan-green focus:outline-none">
                                </div>
                                <div class="space-y-1">
                                    <label for="delivery-time" class="text-xs font-semibold text-gray-600 uppercase tracking-wide">Waktu</label>
                                    <input type="time" id="delivery-time" class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-masgan-green focus:outline-none">
                                </div>
                                <p class="text-xs text-gray-500 sm:col-span-2">Pastikan jadwal tidak melebihi jam operasional cabang.</p>
                            </div>
                        </div>

                        <div class="bg-gray-50 border-2 border-gray-300 rounded-lg p-4 space-y-4">
                            <p class="text-sm font-semibold text-gray-700">Metode Pembayaran</p>
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                                <label class="flex items-start space-x-3 bg-white border-2 border-gray-200 rounded-lg p-3 cursor-pointer hover:border-masgan-green transition-colors">
                                    <input type="radio" name="payment-method" value="cod" class="mt-1 text-masgan-green focus:ring-masgan-green" checked>
                                    <div>
                                        <p class="font-semibold text-masgan-dark-blue">COD / Bayar di Tempat</p>
                                        <p class="text-xs text-gray-500">Bayar pesanan saat diterima.</p>
                                    </div>
                                </label>
                                <label class="flex items-start space-x-3 bg-white border-2 border-gray-200 rounded-lg p-3 cursor-pointer hover:border-masgan-green transition-colors">
                                    <input type="radio" name="payment-method" value="transfer" class="mt-1 text-masgan-green focus:ring-masgan-green">
                                    <div>
                                        <p class="font-semibold text-masgan-dark-blue">Transfer Bank</p>
                                        <p class="text-xs text-gray-500">Bayar lebih dulu via rekening MasGan.</p>
                                    </div>
                                </label>
                            </div>
                            <div id="transfer-info" class="bg-white border border-masgan-green rounded-lg p-3 hidden">
                                <p class="text-xs uppercase tracking-wide text-gray-500">Rekening Transfer</p>
                                <p class="font-bold text-masgan-dark-blue text-lg">7087361688</p>
                                <p class="text-sm text-gray-600">Bank Syariah Indonesia - Risky Dwi Amalia</p>
                                <p class="text-xs text-gray-500 mt-2">Kirim bukti transfer saat konfirmasi di WhatsApp.</p>
                            </div>
                        </div>

                        <!-- Captcha -->
                        <div class="bg-gray-50 border-2 border-gray-300 rounded-lg p-4">
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Verifikasi Keamanan</label>
                            <div class="flex items-center space-x-3 mb-3">
                                <div id="captcha-question" class="flex-1 bg-white border-2 border-masgan-green rounded-lg px-4 py-3 text-center font-bold text-lg text-masgan-green">
                                    <!-- Captcha akan di-generate oleh JavaScript -->
                                </div>
                                <button type="button" onclick="generateCaptcha()" class="bg-masgan-green hover:bg-green-600 text-white px-4 py-3 rounded-lg transition-all duration-300" title="Refresh Captcha">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                                    </svg>
                                </button>
                            </div>
                            <input type="number" id="captcha-answer" placeholder="Masukkan jawaban" class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-masgan-green focus:outline-none">
                        </div>

                        <button onclick="checkout()" class="w-full bg-masgan-green hover:bg-green-600 text-white py-4 rounded-lg font-bold text-lg transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105">
                            Checkout via WhatsApp
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
